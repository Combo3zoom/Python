import Validation
from main import Receipt
from Container import Container
from JobFile import readFile, writeFile


def menu():
    a = Receipt()
    while True:
        print('---------------------------------------')
        try:
            print('1 - add receipt handle\n'
                  '2 - add receipt from file \n'
                  '3 - write receipt in file\n'
                  '4 - print all receipt\n'
                  '5 - found something\n'
                  '6 - sort receip list\n'
                  '7 - delete receipt\n'
                  'exit - exit from program')
            userChoose = Validation.UserChoose(input("Enter 1 - 7 or exit: "))
            if userChoose == 1:
                a.addReceipt(Container(Validation.CheckID(input("Enter ID: ")),
                                       Validation.CheckName(input("Enter name: ")),
                                       Validation.CheckIban(input("Enter iban: ")),
                                       Validation.CheckBank(input("Enter bank(privatbank or universalbank): ")),
                                       Validation.CheckPaymentType(input("Enter payment type(card, NFC): ")),
                                       Validation.Amount(input("Enter amount money: ")),
                                       Validation.CheckMounthDay(input("Enter date: "))))
                continue
            if userChoose == 2:
                readFile("FileInformationg.txt")
                continue
            if userChoose == 3:
                writeFile('FileResult.txt', a.getList())
                continue
            if userChoose == 4:
                a.print()
                continue
            if userChoose == 5:
                print("Select one of the categories: \n"
                      "ID, recipientName, recipientIban, bank, paymentType, amount, paymentDatetime")
                a.find(input("Enter value, which you want to find: "), Validation.IsCategory(input("Enter categoty: ")))
                continue
            if userChoose == 6:
                print("Select one of the categories: \n"
                      "ID, recipientName, recipientIban, bank, paymentType, amount, paymentDatetime")
                a.sort(Validation.IsCategory(input("Enter category: ")))
                continue
            if userChoose == 7:
                print("Select one of the categories: \n"
                      "ID, recipientName, recipientIban, bank, paymentType, amount, paymentDatetime")
                a.deleteReceipt(Validation.IsCategory(input("Enter categoty: ")),
                                input("Enter value, which want to delete "))
                writeFile('FileResult.txt', a.getList())
                continue
            if userChoose == 'exit':
                break
            if userChoose != 'exit':
                continue
        except Exception as error:
            print(error)
            continue

    return


menu()
